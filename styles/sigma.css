
/* SIGMA.CSS */
@font-face {
    font-family: 'trajan';
    src: url('Trajan Pro.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}
:root {
  /* Main theme colours */
  --primary-bg: rgba(160, 150, 160, 0.34);
  --primary-bg-light: rgba(185, 175, 185, 0.40);
  --border-accent: #99663386;
  --title-color: #371502;

  /* Link colours */
  --link-normal: #ba90d5;
  --link-hover: #c094db;
  --link-active: #9047bd;

  /* Button colours */
  --button-normal: rgba(220, 180, 255, 0.48);
  --button-disabled: rgba(200, 160, 220, 0.44);

  /* Shadows and light overlays */
  --shadow-light: rgba(255, 255, 255, 0.3);
  --shadow-dark: rgba(0, 0, 0, 0.1);
}


* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  scroll-behavior: smooth;
  transition: all ease-in-out 0.45s;
}
body {
  font-family: "New York", "Georgia", serif;
  background-size: cover;
  min-height: 100lvh;
  overflow-y: scroll;
}

html, body {
  height: 100%;
  min-height: 100%;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: auto;
  touch-action: manipulation;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

#bgcontainer, html {
  background-image: radial-gradient(circle at 30% 30%, #00b4ff55, #4fd96a55, transparent),
                    radial-gradient(circle at 70% 70%, #ff8cf455, #ffc30055, transparent),
                    url("https://img.freepik.com/free-photo/old-brown-paper-texture-background_1373-431.jpg"),
                    url('https://transparenttextures.com/patterns/soft-circle-scales.png');
  background-size: cover !important;
  background-position: center;
  backdrop-filter: blur(12px);
}
#bgcontainer {
  width: 100vw;
  z-index: -64;
  height: 100vh;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
/*body:not(:hover) {
  filter: blur(0.50625px);
  box-shadow: inset 0 1px 1.5px rgba(255, 255, 255, 0.1);
  transition: filter 0.225s ease-in, box-shadow 0.225s ease-in;
}
body:hover {
  filter: blur(0px);
  box-shadow: none;
  transition: filter 0.2255s ease-out, box-shadow 0.225s ease-out;
}*/

.container {
  max-width: calc(100%-100px);
  margin: 0 auto;
  padding: 20px;
  min-height: calc(100vh - 80px);
}

.nav-bar {
  position: fixed;
  border-radius: 20px;
  height: 80px;
  display: flex;
  width: fit-content;
  justify-content: space-around;
  align-items: center;
  outline: none;
  -webkit-user-select: none;
  padding: 12px;
  -ms-user-select: none;
  user-select: none;
  background: linear-gradient(
    145deg,
    rgba(240, 230, 255, 0.15),
    rgba(200, 190, 240, 0.2)
  );
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 4px 20px rgba(50, 0, 100, 0.2),
              inset 0 0 10px rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(12px) saturate(1.4) url(#crystal-distortion-plus);
  -webkit-backdrop-filter: blur(12px) saturate(1.4);
}
.nav-bar.desat {
  backdrop-filter: blur(12px) url(#crystal-distortion-plus) saturate(0.7) brightness(0.6);
  -webkit-backdrop-filter: blur(12px) saturate(0.7);
}
.nav-bar::before {
  content: "";
  position: fixed;
  top: 2px;
  left: 8px;
  width: calc(100% - 13px);
  height: 44%;
  max-height: 40px;
  background: linear-gradient(to bottom, rgba(255,255,255,0.45), transparent);
  border-radius: inherit;
  pointer-events: none;
}

.nav-item, .nav-item.nbtn-clear {
  text-align: center;
  cursor: pointer;
  padding: 12px;
  border-radius: 12px;
  transition: all 0.075s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  text-shadow: 1px 1px 2.5px rgba(45, 0, 45, 0.64);
  background: linear-gradient(
    to bottom,
    rgba(230, 230, 230, 0.9) 0%,
    rgba(210, 210, 210, 0.9) 100%
  );
  border: 1px solid rgba(150, 150, 150, 0.8);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  width: 190px;
  /*min-width: 60px;*/
  backdrop-filter: url(#crystal-distortion-hover-button) brightness(0.54) blur(12px);
  position: relative;
  overflow: hidden;
  font-family: trajan, "Trajan Pro", Georgia, Times, serif;
  filter: brightness(1.2);
  z-index: 9999;
}


.nav-item:hover, .nav-item.nbtn-white:hover {
  transition: background 0.45s ease-in-out, box-shadow 0.45s ease-in;
  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15), 0 4px 6px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  background: linear-gradient(
    to bottom,
    rgba(240, 240, 240, 0.9) 0%,
    rgba(220, 220, 220, 0.9) 100%
  );
}

/* RED */
.nav-item.nbtn-red {
  background: linear-gradient(
    to bottom,
    rgba(245, 165, 165, 0.2) 0%,
    rgba(235, 145, 145, 0.2) 100%
  ) !important;
  color: #9a5252 !important;
  text-shadow: 0 1px 2px rgba(50, 28, 28, 0.8) !important;
}
.nav-item.nbtn-red i {
  color: #a55555 !important;
}

/* ORANGE */
.nav-item.nbtn-orange {
  background: linear-gradient(
    to bottom,
    rgba(215, 175, 140, 0.2) 0%,
    rgba(205, 150, 110, 0.2) 100%
  ) !important;
  color: #8d613f !important;
  text-shadow: 0 1px 2px rgba(45, 32, 22, 0.8) !important;
}
.nav-item.nbtn-orange i {
  color: #8d613f !important;
}

/* YELLOW */
.nav-item.nbtn-yellow {
  background: linear-gradient(
    to bottom,
    rgba(220, 210, 150, 0.2) 0%,
    rgba(205, 190, 120, 0.2) 100%
  ) !important;
  color: #7f733d !important;
  text-shadow: 0 1px 2px rgba(50, 45, 28, 0.8) !important;
}
.nav-item.nbtn-yellow i {
  color: #7f733d !important;
}

/* GREEN */
.nav-item.nbtn-green {
  background: linear-gradient(
    to bottom,
    rgba(160, 215, 160, 0.2) 0%,
    rgba(130, 195, 130, 0.2) 100%
  ) !important;
  color: #4b794b !important;
  text-shadow: 0 1px 2px rgba(23, 47, 23, 0.8) !important;
}
.nav-item.nbtn-green i {
  color: #4b794b !important;
}

/* TEAL */
.nav-item.nbtn-teal {
  background: linear-gradient(
    to bottom,
    rgba(140, 215, 180, 0.2) 0%,
    rgba(110, 195, 150, 0.2) 100%
  ) !important;
  color: #3b7766 !important;
  text-shadow: 0 1px 2px rgba(23, 47, 38, 0.8) !important;
}
.nav-item.nbtn-teal i {
  color: #3b7766 !important;
}

/* CYAN */
.nav-item.nbtn-cyan {
  background: linear-gradient(
    to bottom,
    rgba(160, 215, 215, 0.2) 0%,
    rgba(140, 190, 190, 0.2) 100%
  ) !important;
  color: #436f6f !important;
  text-shadow: 0 1px 2px rgba(23, 47, 47, 0.8) !important;
}
.nav-item.nbtn-cyan i {
  color: #436f6f !important;
}

/* BLUE */
.nav-item.nbtn-blue {
  background: linear-gradient(
    to bottom,
    rgba(160, 195, 240, 0.2) 0%,
    rgba(140, 170, 240, 0.2) 100%
  ) !important;
  color: #436496 !important;
  text-shadow: 0 1px 2px rgba(18, 38, 60, 0.8) !important;
}
.nav-item.nbtn-blue i {
  color: #436496 !important;
}

/* INDIGO */
.nav-item.nbtn-indigo {
  background: linear-gradient(
    to bottom,
    rgba(175, 165, 240, 0.2) 0%,
    rgba(185, 145, 240, 0.2) 100%
  ) !important;
  color: #624596 !important;
  text-shadow: 0 1px 2px rgba(32, 23, 60, 0.8) !important;
}
.nav-item.nbtn-indigo i {
  color: #624596 !important;
}

/* VIOLET & PURPLE */
.nav-item.nbtn-violet,
.nav-item.nbtn-purple {
  background: linear-gradient(
    to bottom,
    rgba(205, 165, 240, 0.2) 0%,
    rgba(195, 145, 240, 0.2) 100%
  ) !important;
  color: #704596 !important;
  text-shadow: 0 1px 2px rgba(40, 23, 60, 0.8) !important;
}
.nav-item.nbtn-violet i,
.nav-item.nbtn-purple i {
  color: #704596 !important;
}






.nav-item:active,
.nav-item.active-state {
  transition: background 0.45s ease-in-out, box-shadow 0.45s ease-in-out, transform 0.45s ease-in-out, color 0.45s ease-in-out;
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1),
    inset 0 2px 4px rgba(0, 0, 0, 0.1);
  background: rgba(155,130,155,0.3);
}

.nav-item::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 12px;
  box-shadow: inset 0 0 8px rgba(255, 255, 255, 0.2);
  pointer-events: none;
}

.nav-item i {
  display: block;
  font-size: 24px;
  margin-bottom: 5px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  transition: transform 0.075s ease;
}

.nav-item:hover i {
  /*transform: scale(1.1);*/
  color: silver;
  text-shadow: 0 0 8px rgba(252, 227, 248, 0.72);
  transition: color 18s ease-in-out, text-shadow 9s ease-in-out;
}

/*.content-section {
  display: none;
  background: rgba(255, 255, 255, 0.44);
  border-radius: 18px;
  padding: 24px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), inset -1px 4px 24px rgba(14, 28, 0, 0.3), inset 1px 0px 9px rgba(28, 56, 0, 0.3), inset 0 4px 100px rgba(241, 227, 255, 0.8);
  border: 1px solid var(--border-accent);
  min-height: 300px;
  line-height: 1.8;
  backdrop-filter: blur(6.1px) url(#crystal-distortion-plus);
  -webkit-backdrop-filter: blur(8.1px);;
  margin-bottom: 100px;
  filter: brightness(1.05);
}*/
.content-section, .container.cs-white .content-section, .content-section.cs-white {
  position: relative;
  background: linear-gradient(145deg, #f0f0f0e0, #d8d8d8b0); /* bright blue gradient */
  border: 1px solid #99ccff; /* soft blue edge like old Windows panels */
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2),
              inset 0 0 8px rgba(255, 255, 255, 0.6);
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4.5px); /*url(#crystal-distortion-minus);*/
}
/* Red */
.container.cs-red .content-section, .content-section.cs-red {
  background: linear-gradient(145deg, #ffd6d680, #ffa0a080);
  border: 1px solid #ff9999;
}

/* Orange */
.container.cs-orange .content-section, .content-section.cs-orange {
  background: linear-gradient(145deg, #ffe0b380, #ffc08080);
  border: 1px solid #ffb366;
}

/* Yellow */
.container.cs-yellow .content-section, .content-section.cs-yellow {
  background: linear-gradient(145deg, #fff5b380, #fff08080);
  border: 1px solid #ffec99;
}

/* Green */
.container.cs-green .content-section, .content-section.cs-green {
  background: linear-gradient(145deg, #d6ffb380, #a0ff8080);
  border: 1px solid #99ff99;
}

/* Teal */
.container.cs-teal .content-section, .content-section.cs-teal {
  background: linear-gradient(145deg, #b3fff080, #80ffd880);
  border: 1px solid #66ffcc;
}

/* Cyan */
.container.cs-cyan .content-section, .content-section.cs-cyan {
  background: linear-gradient(145deg, #b3f0ff80, #80d8ff80);
  border: 1px solid #66ccff;
}

/* Blue */
.container.cs-blue .content-section, .content-section.cs-blue {
  background: linear-gradient(145deg, #d6f0ff80, #a0d8f080);
  border: 1px solid #99ccff;
}

/* Indigo */
.container.cs-indigo .content-section, .content-section.cs-indigo {
  background: linear-gradient(145deg, #d6d6ff80, #a0a0f080);
  border: 1px solid #9999ff;
}

/* Violet */
.container.cs-violet .content-section, .content-section.cs-violet {
  background: linear-gradient(145deg, #f0b3ff80, #d880ff80);
  border: 1px solid #cc99ff;
}

/* Brown */
.container.cs-brown .content-section, .content-section.cs-brown, .container.cs-paper .content-section, .content-section.cs-paper {
  background: linear-gradient(145deg, #f0d6b380, #d8a08080);/*, url(https://www.pngall.com/wp-content/uploads/14/Grunge-Transparent.png);*/
  border: 1px solid #b38a66;
  background-blend-mode: lighten;
}

/* Clear */
.container.cs-clear .content-section, .content-section.cs-clear {
  background: linear-gradient(145deg, #b0b0b020, #e0e0e020);
  border: 1px solid #c0c0c060;
}

.content-section::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 40%;
  max-height: 160px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.75), transparent);
  border-radius: inherit;
  pointer-events: none;
}

.content-section.active {
  display: block;
  animation: fadeIn 0.5s;
}

.content-section::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 40px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.32), transparent);
  border-radius: inherit;
  pointer-events: none;
}

h1 {
  letter-spacing: 10px;
}

h2 {
  letter-spacing: 8px;
}

h3 {
  letter-spacing: 6px;
}

h1, h2, h3, h4, h5, h6, h7, h8, #graphing strong {
  font-family: 'New York', georgia, 'Trajan Pro', trajan, serif;
  text-align: center;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    filter: blur(6.1px) url(#crystal-distortion-plus);
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    filter: none;
    transform: translateY(0);
  }
}

@keyframes navIn {
  from {
    filter: blur(3.1px) url(#crystal-distortion-plus);
    transform: translateY(30px);
  }
  to {
    filter: none;
    transform: translateY(0);
  }
}

.page-title {
  font-size: 2.2em;
  color: var(--title-color);
  text-align: center;
  margin-bottom: 20px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  background-color: transparent;
  font-family: futura, geneva, sans-serif;
  -moz-user-select: none;
  -khtml-user-select: none;
  user-select: none;
}

.desk-paper, .cs-white .desk-paper {
  background: linear-gradient(180deg, #e4e4e4, #b6b6b6); /* light blue gradient */
  padding: 30px;
  border-radius: 9px;
  border: 1px solid #a0cfff; /* soft blue border */
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.15),
              inset 0 0 12px rgba(255, 255, 255, 0.6);
  font-size: 14pt;
  overflow-x: hidden;
  overflow-y: hidden;
  opacity: 1; /* no washed-out look */
  position: relative;
  background-size: cover;
  background-repeat: repeat;
}
/* Red */
.cs-red .desk-paper, .desk-paper.cs-red {
  background: linear-gradient(180deg, #ffe4e470, #f9b6b670);
  border: 1px solid #ffa0a0;
}

/* Orange */
.cs-orange .desk-paper, .desk-paper.cs-orange {
  background: linear-gradient(180deg, #fff0d670, #f9c8a070);
  border: 1px solid #ffb380;
}

/* Yellow */
.cs-yellow .desk-paper, .desk-paper.cs-yellow {
  background: linear-gradient(180deg, #fffde470, #f9f2b670);
  border: 1px solid #fff380;
}

/* Green */
.cs-green .desk-paper, .desk-paper.cs-green {
  background: linear-gradient(180deg, #e4ffd670, #b6f9a070);
  border: 1px solid #a0ff99;
}

/* Teal */
.cs-teal .desk-paper, .desk-paper.cs-teal {
  background: linear-gradient(180deg, #d6fff070, #80ffd870);
  border: 1px solid #66ffcc;
}

/* Cyan */
.cs-cyan .desk-paper, .desk-paper.cs-cyan {
  background: linear-gradient(180deg, #d6f9ff70, #80e3f970);
  border: 1px solid #66ccff;
}

/* Blue */
.cs-blue .desk-paper, .desk-paper.cs-blue {
  background: linear-gradient(180deg, #e4f9ff70, #b6e3f970);
  border: 1px solid #a0cfff;
}

/* Indigo */
.cs-indigo .desk-paper, .desk-paper.cs-indigo {
  background: linear-gradient(180deg, #d6d6ff70, #a0a0f070);
  border: 1px solid #9999ff;
}

/* Violet */
.cs-violet .desk-paper, .desk-paper.cs-violet {
  background: linear-gradient(180deg, #f0d6ff70, #d880f970);
  border: 1px solid #cc99ff;
}

/* Brown */
.cs-brown .desk-paper, .desk-paper.cs-brown {
  background: linear-gradient(180deg, #f0e4d670, #d8b69f70);
  border: 1px solid #b38a66;
}

/* Clear */
.cs-clear .desk-paper, .desk-paper.cs-clear {
  background: linear-gradient(180deg, #e4e4e410, #e4e4e410);
  border: 0.25px solid #e0e0e0;
  box-shadow: none;
  backdrop-filter: blur(7px);
}

.desk-paper::not(.cs-clear)::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 30vh;
  background: linear-gradient(to bottom, rgba(255,255,255,0.5), transparent);
  border-radius: inherit;
  pointer-events: none;
}
hr {
  height: 3px;
  border: none;
  padding: 3pt;
  margin-top: 3pt;
  margin-bottom: 3pt;
  border-radius: 14pt;
  background: rgba(159, 149, 194, 0.19) !important;
  backdrop-filter: blur(6.1px) invert(5%) brightness(0.9);
  opacity: 70%;
  -webkit-backdrop-filter: blur(8.1px);;
  box-shadow: 0 2px 2px 2px rgba(0, 0, 0, 0.1), inset 0 2px 2px 2px rgba(241, 227, 255, 0.6);
}
hr::before {
  content: "";
  position: absolute;
  top: 2px;
  right: 9px;
  width: calc(100% - 13px);
  height: 20%;
  background: linear-gradient(to bottom, rgba(255,255,255,0.7), transparent);
  border-radius: inherit;
  pointer-events: none;
}
center hr {
  width: 90%;
}
iframe:not(.youtube) {
  height: 6px;
  border: none;
  padding: 5pt;
  border-radius: 14pt;
  background: rgba(159, 149, 194, 0.19) !important;
  backdrop-filter: blur(6.1px) invert(5%) brightness(0.9);
  opacity: 70%;
  -webkit-backdrop-filter: blur(8.1px);;
  box-shadow: 0 2px 2px 2px rgba(0, 0, 0, 0.1), inset 0 2px 2px 2px rgba(241, 227, 255, 0.6);
}

iframe.applet {
  width: 100%;
  height: 50vh;
  background-image: linear-gradient(180deg, #f0e4d670, #d8b69f70) !important;
  backdrop-filter: blur(124.4px);
  -webkit-backdrop-filter: blur(124.4px);
}

.applet-refresh {
  position: absolute;
  left: 20px;
  top: 20px;
}

hr:not(.youtube)::before {
  content: "";
  position: absolute;
  top: 2px;
  right: 9px;
  width: calc(100% - 13px);
  height: 20%;
  background: linear-gradient(to bottom, rgba(255,255,255,0.7), transparent);
  border-radius: inherit;
  pointer-events: none;
}
p.page-nav {
  text-align: center;
  width: auto;
  overflow-y: none;
  overflow-x: auto;
  padding: 5pt;
  border-radius: 14pt;
  font-size: 14pt;
  left: auto;
  right: auto;
  position: relative;
  bottom: 20px;
  background: rgba(159, 149, 194, 0.05) !important;
  backdrop-filter: blur(6.1px) url(#crystal-distortion-plus) invert(10%);
  opacity: 84%;
  -webkit-backdrop-filter: blur(8.1px);;
  box-shadow: 0 2px 2px 2px rgba(0, 0, 0, 0.1), inset 0 2px 2px 2px rgba(241, 227, 255, 0.6);
}
p.page-nav::before {
  content: "";
  position: fixed;
  top: 2px;
  left: 9px;
  width: calc(100% - 13px);
  height: 40%;
  max-height: 40px;
  background: linear-gradient(to bottom, rgba(255,255,255,0.7), transparent);
  border-radius: inherit;
  pointer-events: none;
}
p.page-nav::after {
  content: "";
  position: fixed;
  top: 2px;
  right: 9px;
  width: calc(100% - 13px);
  height: 40%;
  max-height: 40px;
  background: linear-gradient(to bottom, rgba(255,255,255,0.7), transparent);
  border-radius: inherit;
  pointer-events: none;
}

@media (min-width: 1200px) {
  .content-section {
    margin-left: 15%;
    margin-right: 15%;
  }
}
@media (max-width: 1200px) and (min-height: 475px) {
  /*.nav-bar {
    width: auto;
    bottom: 20px;
    left: 20px;
    padding: 44px 5.5px;
    right: 20px;
    overflow-x: auto;
    overflow-y: hidden;
    animation: navIn 0.25s ease-in;
    flex-direction: row;
    filter: brightness(0.9);
    background: linear-gradient(
      rgba(160, 150, 160, 0.54),  /* Dark purple tint *
      rgba(185, 175, 185, 0.60), /* Light purple tint *
      rgba(185, 175, 185, 0.60), /* Light purple tint *
      rgba(160, 150, 160, 0.54)  /* Dark purple tint *
    );
  }*/
  .nav-bar {
    bottom: 20px !important;
    left: 50%;
    top: auto !important;
    flex-direction: row;       /* ensure horizontal layout */
    width: calc(100% - 40px);  /* leave 20px side gutters */
    max-height: none;
    background: linear-gradient(
      rgba(160, 150, 160, 0.34),  /* Dark purple tint */
      rgba(185, 175, 185, 0.50), /* Light purple tint */
      rgba(185, 175, 185, 0.50), /* Light purple tint */
      rgba(160, 150, 160, 0.34)  /* Dark purple tint */
    );
  }
  .container {
    transform: translateY(-140px);
  }
  .nav-item {
    gap: 11px;
    min-width: 120px;
    margin: 0.44%;
  }
  /* No mobile scrollbar gap */
  ::-webkit-scrollbar, ::-webkit-scrollbar:active, ::-webkit-scrollbar:hover {
    width: 3px !important;
    height: 3px !important;
    transition: width 0.45s ease-in-out, height 0.45s ease-in-out;
  }
  .nav-item:active, .nav-item.active-state, .nav-item.active {
    transition: transform 0.45s ease-out;
  }
  .content-section {
    padding: 12px;
  }
  body, html {
    height: calc(100vh + 50px) !important;
  }
  .desk-paper:after {
    height: 500px;
    bottom: 0;
    left: 0;
    content: '';
    right: 0;
    width: 100%;
  }

  .container {
    padding: 16px;
  }
  .content-section, .container {
    transition: padding 0.45s ease-in-out;
  }
}
@media (max-width: 640px) {
  table:not(.nepas) {
    width: 100%;
    transition: width 0.45s ease-in-out;
  }
  .content-section {
    padding: 6px;
  }
  .container {
    padding: 8px;
  }
}
@media (max-width: 388px) and (max-device-pixel-ratio: 3) {
  table:not(.nepas) {
    width: 100%;
    transition: width 0.45s ease-in-out;
  }
  .content-section {
    padding: 5px;
    width: 100%;
    border-radius: 0;
    min-height: 100vh;
  }
  .container {
    transform: translateY(-150px);
  }
  .desk-paper {
    border-radius: 8px;
    padding: 15px;
  }
  .container {
    padding: 0;
    width: 100%;
  }
  .nav-bar {
    width: 100% !important;
    bottom: 0 !important;
    border-radius: 0 !important;
  }
  .nav-item {
    gap: 0;
    margin: 0;
    border-radius: 8px;
  }
}
.content-section, .container, .nav-bar, .desk-paper {
    transition: padding 0.45s ease-in-out, left 0.45s ease-in-out, width 0.45s ease-in-out, height 0.45s ease-in-out, display 0.45s ease-in-out, transform 0.45s ease-in-out;
}
@media (max-height: 475px) { /* 1024px ipad mini width */
  .nav-bar {
    position: fixed;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: auto;
    height: auto;
    flex-direction: column;
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    bottom: auto;
    overflow-x: hidden;
    overflow-y: auto;
    max-height: 87.5vh;
    transition: left 0.45s ease-in-out, transform 0.45s ease-in-out, padding 0.45s ease-in-out, gap 0.45sease-in-out, bottom 0.45s ease-in-out, filter 0.45s ease-in-out;
    filter: brightness(1.09);
  }
  .nav-bar:before, .nav-item:before {
    content: '';
    background: radial-gradient(
      ellipse at top left,
      rgba(255, 255, 255, 0.25),
      transparent 60%
    );
    position: fixed;
    border-radius: inherit;
    pointer-events: none;
  }
  .container {
    margin-left: 160px;
    padding: 40px;
    min-height: 100vh;
  }

  .nav-item {
    padding: 15px;
    border-radius: 18px;
    width: 130px;
  }

  .nav-item i {
    font-size: 28px;
  }
  .nav-item:hover {
    transform: translateY(-1.375px);
    transition: transform 0.45s ease-in-out;
  }
  .nav-item:active,
  .nav-item.active-state, .nav-item.active {
    transition: transform 0.45s ease-in-out;
  }
}
.logosec, .header, .projlinks {
  display: none;
}

@media (min-height: 475px) and (min-width: 1200px) {
  .nav-item {
    margin-left: 4.5px;
    margin-right: 4.5px;
  }
  .nav-bar:not(.non) {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px; /* small gap between buttons */
    padding: 0.4% 0.6%; /* 8px 12px */
    width: 70%;
    min-height: 35px;
  }

  .nav-bar:not(.non) .nav-item {
    display: inline-flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 0.33vw;
    padding: 0.65% 0.9%; /* 6px 12px */
    height: auto;
    min-width: 80px;
    width: auto;
  }

  .nav-bar:not(.non) .nav-item i {
    font-size: 14px;
    margin: 0;
  }

  .nav-bar:not(.non) .nav-item :not(i) {
    font-size: 1.1vh;
  }
   
  .nav-item:after {
    left: 1px;
    right: 1px;
  }

  .logosec, .header, .projlinks {
    display: block !important;
  }
  .projlinks {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.8rem;
    position: fixed;
    top: 9px;
    right: 9px;
    width: auto;
    z-index: 9998;
  }
  .projlinks img {
    height: 80%;            /* takes 80% of the navbar height */
    max-height: 40px;       /* prevent oversized icons */
    width: auto;
    aspect-ratio: 1 / 1;    /* keep square */
    filter: saturate(1.4);
    object-fit: contain;    /* ensures image fits without distortion */
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
  }

  .projlinks img::before {
    content: "";
    position: absolute;
    top: 2px;
    left: 9px;
    width: calc(100% - 13px);
    height: 40%;
    max-height: 40px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.7), transparent);
    border-radius: inherit;
    pointer-events: none;
  }
}
@media (min-height: 475px) {
    .nav-bar {
      position: fixed;
      top: 20px;                 /* distance from top — adjust if you want flush */
      left: 50%;
      right: 50%;
      overflow-x: auto;
      transform: translateX(-50%); /* center horizontally */
      flex-direction: row;       /* ensure horizontal layout */
      width: calc(100% - 40px);  /* leave 20px side gutters */
      height: auto;
      bottom: auto;
      max-height: none;
      border-radius: 16px;
      z-index: 9999;             /* keep it above other stuff */
    }

    /* remove the left-side margin applied for large vertical navs */
    .container {
      margin-left: 0 !important;
      padding-top: calc(20px + 80px); /* space for the nav — tweak '80px' if your nav height changes */
      position: relative;
      top: 50px;
    }
}

@media (prefers-color-scheme: light) {
  .content-section .desk-paper {
    filter: brightness(0.952381);
  }
  .nav-item i.fa-solid  {
    color: #b6a2cb;
    text-shadow: 19px 1px 2px rgba(#fefefe, 0, 0, 0.5);
  }
  .nav-item {
    color: #cda9e8;
    text-shadow: 19px 1px 21px 24 #01010180;
    font-weight: bold;
  }
  .nav-item.active, .nav-item:active  {
    color: #645679;
    text-shadow: 19px 1px 6px 6px rgba(#000000, 0, 0, 0.5);
    transform: scale(0.6);
  }
  .nav-item:active i {
    transform: scale(0.9);
  }
  /*.nav-item:hover i, .nav-item:active, .nav-item:hover, .nav-item:hover i:hover, .nav-item:active {
    color: #9b8ab0;
    text-shadow: 19px 1px 21px 24 rgba(#010101, 0, 0, 0.5);
  }
  .nav-item.darkbg i  {
    color: #b6a2cb;
    text-shadow: 19px 1px 2px rgba(#fefefe, 0, 0, 0.5);
  }
  .nav-item.darkbg {
    color: #c4a6d9;
  }*/
}

@media (prefers-color-scheme: dark) {
  body {
    background-image: linear-gradient(
        rgba(0, 0, 0, 0.64),
        rgba(0, 0, 0, 0.64)
      );/*,
      url("https://img.freepik.com/free-photo/old-brown-paper-texture-background_1373-431.jpg");*/
  }
  table {
    filter: brightness(87%);
  }
  .content-section {
    background: rgba(50, 50, 50, 0.44);
    color: #e0e0e0;
    /*box-shadow: 0 8px 20px rgba(17, 34, 0, 0.3), inset -0.5px 2px 12px rgba(3.5, 7, 0, 0.15), inset 0.5px 0px 4.5px rgba(7, 14, 0, 0.15), inset 0 2px 50px rgba(241, 227, 255, 0.8);*/
  }

  .page-title {
    color: #d4d4d4;
  }

  .desk-paper {
    background: linear-gradient(180deg, #00061b, #061c49);
    /*,
      url("https://www.toptal.com/designers/subtlepatterns/uploads/old_map.png");*/
    border-color: #666;
    /*box-shadow: inset 0 4px 27px rgba(0, 0, 0, 0.4), 2px 2px 3px 1px, inset rgba(84, 56, 123, 0.0125), 0 4px 27px rgba(0, 0, 0, 0.125);*/
  }

  .nav-bar {
    background: linear-gradient(
        rgba(100, 100, 100, 0.44),
        rgba(80, 80, 80, 0.34)
      );
    border-color: #444;
  }

  .nav-item {
    background: linear-gradient(
      to bottom,
      rgba(100, 100, 100, 0.81) 0%,
      rgba(80, 80, 80, 0.81) 100%
    );
    border-color: rgba(70, 70, 70, 0.8);
    color: #e0e0e0;
    text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.5);
    filter: brightness(1.4);
  }

  .nav-item:hover {
    background: linear-gradient(
      to bottom,
      rgba(120, 120, 120, 0.9) 0%,
      rgba(100, 100, 100, 0.9) 100%
    );
  }

  .nav-item:active {
    background: linear-gradient(
      to bottom,
      rgba(80, 80, 80, 0.9) 0%,
      rgba(100, 100, 100, 0.9) 100%
    );
  }
}



/* Settings styles */
.setting-item {
  margin: 15px 0;
  padding: 10px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 9px;
}

.setting-item label {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}

#desmos-calculator {
  transition: opacity 0.3s ease;
}

.flattened {
  box-shadow: none !important;
  background-image: none !important;
  border: 1px solid #ccc !important;
}

.flattened .nav-item {
  box-shadow: none !important;
  background: #f0f0f0 !important;
}

.hidden {
  display: none;
}

table:not(.nepas) {
  border-radius: 14px;
  background: linear-gradient(180deg, #e4f8ff, #cbeaff);
  backdrop-filter: blur(8.1px);
}
table:not(.nepas), table:not(.nepas) * tr td, table:not(.nepas) tr td {
  border-collapse: collapse;
  width: auto;
  margin: 24px;
  padding: 14px;
  text-align: center;
  box-shadow: 0 4px 19px rgba(0, 0, 0, 0.2),
    inset 2px 2px 3px 1px rgba(84, 56, 123, 0.25), 
    inset 0 4px 100px rgba(241, 227, 255, 0.4);
}
table:not(.nepas) thead td {
  font-weight: bold;
  /*darkslategrey*/
  background-color: rgba(47, 79, 79, 0.48);
  color: white;
  backdrop-filter: blur(8.1px);
  border-radius: 6px;
  font-family: trajan, "Trajan Pro", Georgia, Times, serif;
}
table:not(.nepas) * tr:nth-child(even) {
  background-color: silver;
  color: #3e3e3e;
}
table:not(.nepas) tbody tr:nth-child(odd) {
  background-color: gainsboro;
  color: dimgrey;
}
a {text-decoration: none;}

table:not(.nepas) *:first-child tr:first-child td:first-child {
  border-radius: 9px 6px 6px 6px;
}
table:not(.nepas) *:first-child tr:first-child td:last-child {
  border-radius: 6px 9px 6px 6px;
}
table:not(.nepas) *:last-child tr:last-child td:last-child {
  border-radius: 6px 6px 19px 6px;
}
table:not(.nepas) *:last-child tr:last-child td:first-child {
  border-radius: 6px 6px 6px 9px;
}

table:not(.non), table:not(.non) td {
  border: none;
}

table:not(.non) tbody tr:nth-child(even) td:nth-child(1):hover,
table:not(.non) tbody tr:nth-child(even) td:nth-child(1):hover a {
  text-decoration: underline;
  color: whitesmoke;
  cursor: pointer;
}
table:not(.non) tbody tr:nth-child(odd) td:nth-child(1):hover,
table:not(.non) tbody tr:nth-child(odd) td:nth-child(1):hover a {
  text-decoration: underline;
  color: darkgrey;
  cursor: pointer;
}
table#langTable:not(.non) tbody tr td:nth-child(4) p:nth-child(1),
table#langTable:not(.non) tbody tr td:nth-child(4) p:nth-child(3) {
  background-color: #d0d0d0;
}

.table-wrapper {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  position: relative;
  left: -20px;
  right: -20px;
  width: calc(100% + 40px);
}

abbr {
  cursor: help;
}

canvas, sculpture, .youtube {
  background-image: linear-gradient(to bottom, white, white) !important;
  box-shadow: inset 1.25px 4px 27px rgba(241, 227, 255, 0.8);
}

/* Text input styles */
/*input[type=text], input[type=number], input[type=email], input[type=password], select, option, textarea {
  border-radius: 18px;
  outline: none;
  text-align: center;
  font-family: 'Segoe UI', Geneva, Verdana, sans-serif, Verdana, sans-serif;
  min-height: 24pt;
  font-size: 11pt;
  background: rgba(246, 255, 248, 0.48);
  box-shadow: inset 0 3px 3px rgba(0,0,0,0.18), 0 6px 8px rgba(255,255,255,0.15), 0 -3px 5px rgba(137,90,176,0.05);
  backdrop-filter: blur(6.1px) url(#crystal-distortion-plus);
  -webkit-backdrop-filter: blur(8.1px);
  border: 1px solid rgba(255, 255, 255, 0.51);
  overflow-x: scroll;
}*/

input[type=text], input[type=number], input[type=email], input[type=password], select, option, textarea {
  padding: 5pt !important;
  border-radius: 9pt;
  min-height: 24pt;
  text-align: center;
  font-size: 11pt;
  margin: 5px;
  /*background-color: var(--button-normal);
  background-image: linear-gradient(to bottom, rgba(180, 140, 220, 0.45), rgba(153, 126, 179, 0.38), rgba(170, 130, 200, 0.45));*/
  background-color: white;
  background-image: rgba(246, 255, 248, 0.48);
  backdrop-filter: blur(6.1px) invert(5%) brightness(0.95);
  -webkit-backdrop-filter: blur(8.1px);
  /*box-shadow: inset 0 9px 14px rgba(0,0,0,0.18), inset 0 6px 8px rgba(255,255,255,0.45), inset 0 -9px 5px rgba(113.5,90,113.5,0.35);*/
  box-shadow: inset 0 3px 3px rgba(0,0,0,0.18), 0 6px 8px rgba(255,255,255,0.15), 0 -3px 5px rgba(137,90,176,0.05), 0 4px 3px rgba(0, 0, 0, 0.1);
  
  border: 1px solid rgba(244, 244, 244, 0.51);
  outline: 0.33px solid rgba(255, 255, 255, 0.51);
  color: black;
  outline-offset: -0.33px;
  opacity: 70%;
  backdrop-filter: blur(6.1px) invert(5%) brightness(0.9);
  -webkit-backdrop-filter: blur(8.1px);
}


textarea {
  overflow-x: none;
  text-align: left;
}
input[type=text]:hover, input[type=number]:hover, input[type=email]:hover, input[type=password]:hover, select:hover, option:hover, textarea:hover {
  /*background: linear-gradient(to bottom, rgba(246, 255, 248, 0.48), rgba(243, 231, 254, 0.48), rgba(246, 255, 248, 0.48));*/
  background-image: rgb(244, 244, 244, 0.85);
  transition: background 0.45s ease-in-out, box-shadow 0.45s ease-in-out, filter 0.6s linear;
  box-shadow: inset 0 3px 3px rgba(0,0,0,0.27), 0 6px 8px rgba(255,255,255,0.225), 0 -3px 5px rgba(137,90,176,0.075), 0 4px 3px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.51);
  outline: 0.33px solid rgba(255, 255, 255, 0.51);
  filter: brightness(0.9875);
}
input[type=text]:active, input[type=number]:active, input[type=email]:active, active[type=password]:hover, select:active, option:active, textarea:active {
  background: rgba(243, 231, 254, 0.48);
  transition: background 0.45s ease-in-out, box-shadow 0.45s ease-in-out, filter 0.6s linear;
    box-shadow: inset 0 3px 3px rgba(0,0,0,0.27), 0 6px 8px rgba(255,255,255,0.225), 0 -3px 5px rgba(137,90,176,0.075), 0 4px 3px rgba(0, 0, 0, 0.15), inset 0 -3px -3px rgba(0,0,0,0.27);
  border: 1px solid rgba(255, 255, 255, 0.51);
  outline: 0.33px solid rgba(255, 255, 255, 0.51);
  filter: brightness(0.95);
}

/* Checkboxes */
label.full input[type=checkbox] {
  display: none;
}

.checkmark {
  height: 16pt !important;
  width: 16pt !important;
  right: 10px;
  /*transform: translateY(-100%);*/
  color: transparent;
  backdrop-filter: none !important;
  filter: none;
}
/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the checkmark when checked */
label.full input:checked ~ .checkmark:after {
  display: block;
}
label.full input:checked ~ .checkmark {
    filter: brightness(1.1);
}

/* Style the checkmark/indicator */
label.full .checkmark:after {
  left: calc(50% - 2pt);
  top: calc(50% - 3pt);
  width: 4pt;
  height: 8pt;
  background-color: transparent;
  border-width: 0 2px 2px 0;
  -webkit-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
  z-index: 9999;
  filter: none;
  backdrop-filter: invert(100%);
}


/* Button styles */
/*button, input[type=button], input[type=submit], input[type=reset], input[type=file], select[button=like], canvas, sculpture, .youtube, ::-webkit-scrollbar-thumb {
  border-radius: 9px;
  text-align: center;
  font-family: 'Segoe UI', Geneva, Verdana, sans-serif, Verdana, sans-serif;
  min-height: 24pt;
  font-size: 11pt;
  padding-left: 10px;
  padding-right: 10px;
  margin: 5px;
  background-color: var(--button-normal);
  box-shadow: 0 9px 14px rgba(0,0,0,0.18), inset 0 6px 8px rgba(255,255,255,0.45), inset 0 -9px 5px rgba(113.5,90,113.5,0.35);
  filter: brightness(85%);
  background-image: linear-gradient(to bottom, rgba(180, 140, 220, 0.55), rgba(153, 126, 179, 0.48), rgba(170, 130, 200, 0.55));
  backdrop-filter: blur(8.1px);
  -webkit-backdrop-filter: blur(8.1px);
  border: 1px solid rgba(244, 244, 244, 0.51);
  outline: 0.33px solid rgba(255, 255, 255, 0.51);
  color: black;
  outline-offset: -0.33px;
  cursor: pointer;
}*/

button, input[type=button], input[type=submit], input[type=reset], input[type=file], select[button=like], canvas, sculpture, .youtube, ::-webkit-scrollbar-thumb {
  padding: 5pt !important;
  border-radius: 9pt;
  min-height: 24pt;
  font-size: 11pt;
  font-family: geneva, futura, sans-serif;
  padding-left: 15px;
  padding-right: 15px;
  margin: 5px;
  background-color: var(--button-normal);
  background-image: linear-gradient(to bottom, rgba(180, 140, 220, 0.45), rgba(153, 126, 179, 0.38), rgba(170, 130, 200, 0.45));
  -webkit-backdrop-filter: blur(8.1px);
  box-shadow: 0 9px 14px rgba(0,0,0,0.18), inset 0 6px 8px rgba(255,255,255,0.45), inset 0 -9px 5px rgba(113.5,90,113.5,0.35);
  border: 1px solid rgba(244, 244, 244, 0.51);
  outline: 0.33px solid rgba(255, 255, 255, 0.51);
  color: black;
  outline-offset: -0.33px;
  cursor: pointer;
  opacity: 70%;
  backdrop-filter: blur(6.1px) invert(5%) brightness(0.9);
  -webkit-backdrop-filter: blur(8.1px);
}
button::before, .nav-item::before, input[type=button]::before, input[type=submit]::before, input[type=reset]::before, input[type=file]::before, select[button=like]::before, thead td::before, .calb::before, .projlinks a:hover img::before {
  content: "";
  position: absolute;
  top: 2px;
  left: 3px;
  right: 3px;
  height: 36%;
  background: linear-gradient(to bottom, rgba(255,255,255,0.6), transparent);
  border-radius: inherit;
  pointer-events: none;
}

.nav-item::before, thead td::before, .projlinks a:hover img::before {
  background: linear-gradient(to bottom, rgba(255,255,255,0.45), transparent);
}

/*
hr {
  height: 4px;
  border: none;
  padding: 5pt;
  border-radius: 14pt;
  background: rgba(159, 149, 194, 0.19) !important;
  backdrop-filter: blur(6.1px) invert(5%) brightness(0.9);
  opacity: 70%;
  -webkit-backdrop-filter: blur(8.1px);;
  box-shadow: 0 2px 2px 2px rgba(0, 0, 0, 0.1), inset 0 2px 2px 2px rgba(241, 227, 255, 0.6);
}
hr::before {
  content: "";
  position: absolute;
  top: 2px;
  right: 9px;
  width: calc(100% - 13px);
  height: 20%;
  background: linear-gradient(to bottom, rgba(255,255,255,0.7), transparent);
  border-radius: inherit;
  pointer-events: none;
}
*/

.youtube {padding: 10px;}
button[disabled], input[disabled], select[disabled] {
  color: rgba(10, 10, 10, 0.48);
  background: var(--button-disabled);
  background-image: linear-gradient(to bottom, var(--button-disabled), var(--button-disabled), var(--button-disabled), var(--button-disabled), silver, silver, silver, silver)
}
button:hover:not([disabled]), input[type=button]:hover:not([disabled]), input[type=submit]:hover:not([disabled]), input[type=reset]:hover:not([disabled]), input[type=file]:hover:not([disabled]), select[button=like]:hover:not([disabled]), canvas:hover, sculpture:hover, .youtube:hover, ::-webkit-scrollbar-thumb:hover, .projlinks a:hover {
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1), inset 2px 2px 3px 1px rgba(79, 51, 118, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.51);
  filter: brightness(0.77);
}
.projlinks a {border: none !important; outline: none !important; background: transparent !important;}
button[disabled]:hover, input[disabled]:hover, select[disabled]:hover {
  cursor: not-allowed;
}
button:active, input[type=button]:active, input[type=submit]:active, input[type=file]:active, select[button=like]:active, canvas:active, sculpture:active, .youtube:active, ::-webkit-scrollbar-thumb:active, .projlinks a:active, label.full input[checked] ~ .checkmark {
  filter: brightness(0.64);
}
button:hover:active, input[type=button]:hover:active, input[type=submit]:hover:active, input[type=file]:hover:active, select[button=like]:hover:active, canvas:hover:active, sculpture:hover:active, .youtube:hover:active, ::-webkit-scrollbar-thumb:hover:active, .projlinks a:hover:active {
  background-color: rgba(153, 126, 179, 0.48);
  background-image: linear-gradient(to bottom, rgba(230, 190, 255, 0.65), rgba(210, 159, 238, 0.48), rgba(240, 210, 255, 0.65));
  color: indigo;
  transition: background 0.45s ease-in-out, box-shadow 0.45s ease-in-out, color 2.25s ease-in-out, filter 0.6s linear;
  border: 1px solid rgba(255, 255, 255, 0.51);
  filter: brightness(0.54);
}
button[disabled]:active, input[disabled]:active, select[disabled]:active, .youtube[disabled]:active {
  cursor: not-allowed;
  background: rgba(126, 126, 126, 0.48);
  border-color: maroon;
  opacity: 51%;
}

/* Link styles */
a {
  text-decoration: none;
  color: var(--link-normal);
}
@media (prefers-color-scheme: dark) {
  a:not(.page-nav a) {
    color: #694480;
  }
  a:hover, a:visited {
    text-shadow: 1px 1px 1px 2px;
  }
  a:hover {
    color: var(--link-hover);
    text-decoration: underline;
  }
  input[type=text], input[type=number], input[type=email], input[type=password], select, option, textarea {
    /*background: rgba(119, 100, 107, 0.48);*/
    filter: brightness(90%);
    box-shadow: inset 0 3px 3px rgba(155,155,155,0.18), 0 6px 8px rgba(100,100,100,0.15), 0 -3px 5px rgba(208,255,179,0.05);
    border: 1px solid rgba(127.5, 127.5, 127.5, 0.51);
  }
}
a:hover {
  color: var(--link-hover);
  text-decoration: underline;
}
a:active, .page-nav a, .page-nav a:visited {
  color: var(--link-active);
}
a:active {
  text-decoration: underline;
}
a:visited:not(.page-nav a) {
  color: #a070be;
  text-decoration: none;
}

/* Canvas Styles */
canvas {
  background-color: white;
  cursor: default;
}

/* Scrollbars */
::-webkit-scrollbar {
  width: 9px;
  background: radial-gradient(ellipse at center, #b3a6da, rgba(160, 160, 160, 0.64), #b3a6da);
  backdrop-filter: blur(8.1px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2), inset 0 2px 9px rgba(0, 0, 0, 0.1);
  border-radius: 9px;
}
::-webkit-scrollbar-thumb {
  background: radial-gradient(ellipse at center, #c5b8a3, #faebf6, #c5b8a3);
  border-radius: 9px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2), inset 0 2px 9px rgba(0, 0, 0, 0.1);
}

/* Accent colours */
:root {
  accent-color: rgb(143, 120, 181);
}

.modal-container, .modal-container:not(:hover) {
  position: fixed;
  width: 100%;
  height: 100%;
  background-color: rgba(13, 28, 0, 0.33);
  backdrop-filter: blur(6.1px) url(#crystal-distortion-minus);
  -webkit-backdrop-filter: blur(4.05px);
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 23;
  transition: background-color 0.45s ease-in, backdrop-filter 0.45s ease-in, box-shadow 0.45s ease-in;
}
.modal-container:hover  {
  background-color: rgba(13, 28, 0, 0.275);
  box-shadow: inset 0 0.5px 0.75px rgba(255, 255, 255, 0.05);
  transition: background-color 0.45s ease-in, backdrop-filter 0.45s ease-in, box-shadow 0.45s ease-in;
  backdrop-filter: blur(6.1px) url(#crystal-distortion-minus);
  -webkit-backdrop-filter: blur(3.0375px);
}
.modal {  
  z-index: 24;
  line-height: 1.8;
  overscroll-behavior: none;
}

.modal:not(.free), .modal:not(.freer) {
  position: fixed;
  overflow: auto;
  padding: 4.5vh;
  top: 4.5vh;
  left: 4.5vh;
  right: 4.5vh;
  bottom: 4.5vh;
  width: calc(100% - 9vh);
  max-height: calc(100% - 9vh);
  min-height: 400px;
  touch-action: none;
}
.modal:not(.freer) {
  background-color: rgba(242, 227, 255, 0.67);
  border-radius: 18px;
  box-shadow: 0 4px 10px rgba(255, 255, 255, 0.8), inset 0 2px 3px rgba(255, 255, 255, 0.9), inset -1px 4px 6px rgba(0, 0, 0, 0.075), inset 1px 0px 6px rgba(0, 0, 0, 0.075);
  border: 1px solid var(--border-accent);
  backdrop-filter: blur(8.1px);
  -webkit-backdrop-filter: blur(8.1px);
}

.modal.free {
  padding: 8px;
}

.modal.free:not(.freer) {
  position: fixed;
  width: calc(100% - 40px);
  bottom: 20px;
  left: 20px;
  right: 20px;
  padding: 20px;
  backdrop-filter: blur(8.1px);
  background-color: rgba(242, 227, 255, 0.33);
}




/* CRYSTAL EFFECT */
:root {
    /* Glass Effect Variables - Customize these values */
    --shadow-offset: 0;
    --shadow-blur: 10px;
    --shadow-spread: -5px;
    --shadow-color: rgba(236, 217, 255, 0.7);
    --tint-color: 236, 217, 255;
    --tint-opacity: 0.2;
    --frost-blur: 2px;
    --frost-blur-hover: 0.5px;
    --noise-frequency: 0.008;
    --distortion-strength: 77;
    --outer-shadow-blur: 24px;
}


.crystal-effect::after, .nav-item::after, .desk-paper::after, button::after, select::after {
    content: '';
    position: absolute;
    inset: 0;
    z-index: -1;
    /*backdrop-filter: blur(var(--frost-blur));
    -webkit-backdrop-filter: blur(var(--frost-blur));*/
    backdrop-filter: blur(6.1px) url(#crystal-distortion-minus);
    isolation: isolate;
    transition: filter 0.45s ease-in-out;
}
.crystal-effect::after, .nav-item::after, button::after, select::after {
    filter: url(#crystal-distortion);
    -webkit-filter: url("#crystal-distortion");
}
button::after, button:hover::after, select::after, select:hover::after {border-radius: 9px;}
.crystal-effect:hover::after, .nav-item:hover::after, button:hover::after, select:hover::after {
    backdrop-filter: blur(var(--frost-blur-hover));
    -webkit-backdrop-filter: blur(var(--frost-blur-hover));
    filter: url(#crystal-distortion-hover);
    -webkit-filter: url("#crystal-distortion-hover");
    transition: filter 0.45s ease-in-out;
}
button:hover::after, select:hover::after {
    backdrop-filter: blur(var(--frost-blur-hover));
    -webkit-backdrop-filter: blur(var(--frost-blur-hover));
    filter: url(#crystal-distortion-hover);
    -webkit-filter: url("#crystal-distortion-hover-button");
}

  .nav-bar::after {
    /*position: absolute;*/
    inset: 0;
    z-index: -1;
    backdrop-filter: blur(var(--frost-blur));
    -webkit-backdrop-filter: blur(var(--frost-blur));
    filter: url(#crystal-distortion);
    -webkit-filter: url("#crystal-distortion");
    isolation: isolate;
  }

.pulsed {
  animation: liquidPulse 0.2s infinite alternate ease-in-out;
}

@keyframes liquidPulse {
    0% {
        filter: url(#crystal-distortion); /* Initial state, scale 6 */
    }
    50% {
        filter: url(#crystal-distortion-hover); /* Mid-state, scale 9 */
    }
    100% {
        filter: url(#crystal-distortion); /* Return to initial */
    }
}
